import { LightningElement } from "lwc";
import { loadScript} from "lightning/platformResourceLoader";

import HIGHCHARTS from "@salesforce/resourceUrl/highcharts";

export default class CDP_trial extends LightningElement {
  renderedCallback() {
    Promise.all([
      loadScript(this, HIGHCHARTS)
        .then(() => console.log("Highcharts loaded"))
        .catch(error => console.log("Error in loading Highcharts"))
    ])

      .then(() => {
        this.runHighcharts();
      })

      .catch(error => {
        window.console.log("The error is: " + error);
      });
  }

  runHighcharts() {

  Highcharts.chart(this.template.querySelector('div'), {
        chart: {
                type: 'area',
                zoomType: 'x',
                panning: true,
                panKey: 'shift'
            },
            title: {
                text: '天才自习室 2021 春季'
            },
            // annotations: [{
            //     labelOptions: {
            //         backgroundColor: 'rgba(255,255,255,0.5)',
            //         verticalAlign: 'top',
            //         y: 15
            //     },
            //     labels: [{
            //         point: {
            //             xAxis: 0,
            //             yAxis: 0,
            //             x: 27.98,
            //             y: 255
            //         },
            //         text: 'Arbois'
            //     }, {
            //         point: {
            //             xAxis: 0,
            //             yAxis: 0,
            //             x: 45.5,
            //             y: 611
            //         },
            //         text: 'Montrond'
            //     }, {
            //         point: {
            //             xAxis: 0,
            //             yAxis: 0,
            //             x: 63,
            //             y: 651
            //         },
            //         text: 'Mont-sur-Monnet'
            //     }, {
            //         point: {
            //             xAxis: 0,
            //             yAxis: 0,
            //             x: 84,
            //             y: 789
            //         },
            //         x: -10,
            //         text: 'Bonlieu'
            //     }, {
            //         point: {
            //             xAxis: 0,
            //             yAxis: 0,
            //             x: 129.5,
            //             y: 382
            //         },
            //         text: 'Chassal'
            //     }, {
            //         point: {
            //             xAxis: 0,
            //             yAxis: 0,
            //             x: 159,
            //             y: 443
            //         },
            //         text: 'Saint-Claude'
            //     }]
            // }, {
            //     labels: [{
            //         point: {
            //             xAxis: 0,
            //             yAxis: 0,
            //             x: 101.44,
            //             y: 1026
            //         },
            //         x: -30,
            //         text: 'Col de la Joux'
            //     }, {
            //         point: {
            //             xAxis: 0,
            //             yAxis: 0,
            //             x: 138.5,
            //             y: 748
            //         },
            //         text: 'Côte de Viry'
            //     }, {
            //         point: {
            //             xAxis: 0,
            //             yAxis: 0,
            //             x: 176.4,
            //             y: 1202
            //         },
            //         text: 'Montée de la Combe<br>de Laisia Les Molunes'
            //     }]
            // }, {
            //     labelOptions: {
            //         shape: 'connector',
            //         align: 'right',
            //         justify: false,
            //         crop: true,
            //         style: {
            //             fontSize: '0.8em',
            //             textOutline: '1px white'
            //         }
            //     },
            //     labels: [{
            //         point: {
            //             xAxis: 0,
            //             yAxis: 0,
            //             x: 96.2,
            //             y: 783
            //         },
            //         text: '6.1 km climb<br>4.6% on avg.'
            //     }, {
            //         point: {
            //             xAxis: 0,
            //             yAxis: 0,
            //             x: 134.5,
            //             y: 540
            //         },
            //         text: '7.6 km climb<br>5.2% on avg.'
            //     }, {
            //         point: {
            //             xAxis: 0,
            //             yAxis: 0,
            //             x: 172.2,
            //             y: 925
            //         },
            //         text: '11.7 km climb<br>6.4% on avg.'
            //     }]
            // }],
            xAxis: {
                allowDecimals: false,
                type: 'datetime',
                dateTimeLabelFormats: {
                    day: '%b %e'
                },
                title: {
                    text: '日期'
                }
            },
            yAxis: {
                startOnTick: true,
                endOnTick: false,
                maxPadding: 0.35,
                title: {
                    text: '时间'
                },
                labels: {
                    format: '{value} mins'
                }
            },
            tooltip: {
                pointFormat: '{series.name} 学习了 <b>{point.y}</b>mins'
            },
            legend: {
                enabled: true
            },
            // series: [{
            //     data: this.elevationData,
            //     lineColor: Highcharts.getOptions().colors[1],
            //     color: Highcharts.getOptions().colors[2],
            //     fillOpacity: 0.5,
            //     name: '海拔',
            //     marker: {
            //         enabled: false
            //     },
            //     threshold: null
            // }]
            series: [{
                name: 'FO',
                lineColor: Highcharts.getOptions().colors[1],
                color: Highcharts.getOptions().colors[2],
                fillOpacity: 0.3,
                data: [
                    163,207,213,143,30,102,276,269,80,13,276,181,1,27,170,157,185,42,254,219,207,204,286,67,40,122,250,80,220,206,176,286,117,207,44,8,132,174,43,241,113,20,177,224,14,50,140,157,82,191,88,49,208,261,253,90,66,201,282,115,271,122,122,263,5,231,231,15,144,147,20,261,116,128,73,55,275,222,127,276,46,292,121,123,172,208,58,30,81,81,161,289,45,167,79,150,188,181,31,112,145,186,176,82,187,248,73,121,193,287,237,51,123,181,221,280,132,173,213,238,165,266,197,240,158,76,258,232,106,180,194,251,235,59,297,182,288,94,192,74,25,134,257,138,146,207,52,97,100,292,270,198,162,182,275,125,162,264,34,156,63,2,64,237,253,281,96,125,275,141,202,204,139,47,194,177,92,57,99,47,116,103,183,219,92,164,106,91,128,6,181,33,106,205,73,117,79,73,178,263,89,290,271,291,89,18,48,203,160,151,256,32,117,30,216,143,176,189,177,91,2,58,199,204,105,99,59,171,48,163,160,122,93,128,172,50,112,218,196,40,53,87,243,207,61,189,256,92,21,224,39,130,175,151,26,274,47,159,73,7,77,237,279,9,83,229,30,275,42,239,80,203,93,199,33,113,232,6,65,106,247,26,202,114,114,24,233,300,218,165,163,266,34,275,296,140,44,198,285,261,284,288,124,43,57,80,8,62,91,234,130,74,280,109,228,267,14,31,161,212,62,115,24,73,200,274,285,176,20,48,282,216,117,206,56,68,168,285,65,284,175,245,124,76,161,233,17,226,233,258,174,11,87,72,227,81,133,113,292,34,128,94,253,172,50,290
                ],
                pointStart: Date.UTC(2021, 1, 22),
                pointInterval: 24 * 3600 * 1000 // one day
            }, {
                name: 'BZ',
                lineColor: Highcharts.getOptions().colors[2],
                color: Highcharts.getOptions().colors[3],
                fillOpacity: 0.3,
                data: [
                    120,68,13,133,41,208,96,22,150,148,240,50,76,85,86,122,206,240,189,160,43,7,11,127,200,299,202,239,42,8,118,64,243,52,34,16,231,246,201,260,184,270,207,223,92,255,190,22,65,44,52,39,285,72,271,272,54,259,124,245,276,269,299,138,128,250,242,141,78,180,276,272,102,32,175,182,86,108,37,217,52,235,255,181,155,196,101,79,284,130,94,153,176,124,96,195,281,136,245,260,15,249,212,21,59,47,1,194,20,39,152,138,85,144,265,66,11,114,281,52,23,123,224,215,126,243,64,84,231,166,40,153,25,205,52,145,173,183,86,124,77,63,84,218,27,250,147,180,212,52,182,267,66,151,189,24,299,275,296,234,242,192,249,188,270,165,169,270,33,11,58,204,31,71,132,30,176,99,75,263,127,59,38,24,44,95,209,129,117,55,126,286,138,128,263,180,131,105,247,136,149,185,145,8,271,230,184,12,230,240,235,22,141,30,144,215,239,297,284,257,206,147,158,119,177,12,40,108,25,81,91,90,251,258,108,138,193,37,130,145,56,279,152,127,75,211,258,274,240,233,95,45,46,9,299,260,177,109,89,148,142,227,128,122,145,11,31,153,197,157,21,36,292,59,108,45,150,289,109,251,140,50,238,155,53,202,287,274,40,260,63,272,6,127,189,17,300,289,246,118,285,184,43,197,173,173,297,0,168,193,282,248,111,163,86,264,30,263,183,49,238,223,272,208,178,153,261,53,82,213,263,298,244,67,85,227,291,109,213,171,122,241,139,17,274,160,63,72,220,270,200,218,170,234,202,263,128,230,23,87,164,107,190,3,285,53
                ],
                pointStart: Date.UTC(2021, 1, 22),
                pointInterval: 24 * 3600 * 1000 // one day
            }, {
                name: 'SZ',
                lineColor: Highcharts.getOptions().colors[3],
                color: Highcharts.getOptions().colors[4],
                fillOpacity: 0.3,
                data: [
                    90,46,267,183,261,262,264,262,180,39,209,67,131,26,287,207,233,100,286,170,276,77,112,242,50,64,220,121,88,148,250,155,119,95,91,50,208,88,250,95,268,153,176,208,189,261,127,82,162,98,189,14,250,211,69,41,155,225,91,199,63,149,243,284,238,171,152,114,218,58,100,1,164,270,141,24,22,151,183,295,138,277,229,194,195,54,14,30,196,145,188,277,182,271,255,150,259,146,168,207,175,257,133,248,172,264,208,73,240,268,258,120,296,7,265,12,88,208,177,109,278,136,251,127,100,47,56,167,265,168,181,146,158,165,48,219,298,185,171,259,251,22,46,253,58,201,266,47,125,130,0,263,140,158,234,65,266,230,143,72,215,268,220,267,28,43,141,119,29,167,125,272,280,192,216,211,181,188,169,145,103,142,83,181,286,67,102,165,66,30,265,1,151,144,269,14,6,234,55,88,176,70,43,49,175,80,232,121,12,241,148,219,204,190,24,247,107,269,22,134,38,64,276,84,210,146,33,248,113,47,9,131,122,162,157,190,203,62,136,122,167,289,203,156,203,2,216,1,280,146,117,122,298,295,135,48,101,227,53,130,180,91,163,287,35,174,63,125,7,150,173,258,46,206,10,191,164,20,28,68,166,290,182,28,247,120,95,206,87,123,0,42,124,281,246,289,222,82,51,174,168,0,264,182,56,25,244,113,213,252,7,41,289,70,60,173,83,80,21,196,259,102,88,81,3,251,150,247,147,6,266,223,203,212,44,158,59,105,216,94,293,112,117,102,221,220,124,185,223,126,266,153,22,97,25,193,145,279,234,184,181,262,285,82,151,260
                ],
                pointStart: Date.UTC(2021, 1, 22),
                pointInterval: 24 * 3600 * 1000 // one day
            }]
    });
  }
  
    
}